apiVersion: v1
kind: Pod
metadata:
  name: cpu-stress-test
  namespace: demo-app
  labels:
    app: stress-test
spec:
  containers:
  - name: stress
    image: busybox
    command:
    - /bin/sh
    - -c
    - |
      echo "Starting CPU stress test..."
      for i in 1 2 3 4; do
        while true; do :; done &
      done
      sleep 300
      echo "CPU stress test completed"
    resources:
      requests:
        cpu: 100m
        memory: 64Mi
      limits:
        cpu: 2000m
        memory: 128Mi
  restartPolicy: Never